<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Weather app</title>
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="bower_components/open-sans-fontface/open-sans.css">
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/theme.css">
</head>

<body ng-app='weatherApp'>

    <div class="container" ng-controller="HomeController">

        <div class="row" ng-show=>
            <div class="col-xs-12">
                {{error}}
            </div>
        </div>

        <div class="row">
            <form class="form" role="form" ng-submit="fetchData()">
                <div class="col-xs-11">
                    <input ng-model='city' class="form-control" placeholder="Search City, Zip, State" />
                </div>
                <div class="col-xs-1">
                    <button type="submit" class="btn btn-primary">Go</button>
                </div>
            </form>
        </div>
        <div class="row">
            <div class="col-xs-12" ng-show='weather'>
                <h1>
                    The weather in {{ city }} is: {{ weather.list[0].temp.day }}
                </h1>
                <h2>
                    {{ weather.list[0].weather[0].description }}
                </h2>
                <!-- <pre>{{ weather | json }}</pre> -->
                <!-- <pre>{{ nearby | json }}</pre> -->
            </div>
            <br>
            <div class="col-xs-12" ng-show='nearby'>
                <h2>Businesses Nearby</h2>

                <button class="btn btn-primary" ng-click='predicate="name"'>
                    Name
                </button>

                <button class="btn btn-primary" ng-click='predicate="avg_rating"'>
                    Average Rating
                </button>

                <button class="btn btn-primary" ng-click='predicate="review_count"'>
                    Reviews
                </button>

                <button class="btn btn-primary" ng-click='reverse=!reverse'>
                    +/-
                </button>


                <input type="text" ng-model='search.$' placeholder="Filter" />

                <ul>
                    <li ng-repeat='biz in nearby.businesses | filter:search |
                        orderBy:predicate:reverse'>

                        <a ng-href='{{ biz.url }}'>
                            <h3>
                                {{ biz.name }}
                            </h3>
                        </a>
                        <img ng-src='{{ biz.rating_img_url }}' />
                        <img ng-src='{{ biz.photo_url }}' />
                        <h4>
                            {{ biz.avg_rating }} / {{ biz.review_count }}
                        </h4>
                        <!-- <pre> {{ biz | json }}</pre> -->
                    </li>
                </ul>
            </div>
        </div>
        <!-- end .row-->

    </div>
    <!--end .container -->


    <script src="bower_components/angular/angular.min.js"></script>
    <script src="bower_components/angular-ui-router/release/angular-ui-router.min.js"></script>
    <script src="scripts/app.js"></script>
</body>

</html>
